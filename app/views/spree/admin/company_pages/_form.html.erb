<div class="row">
  <div class="col-xs-12 col-md-6">
    <%= f.field_container :title, class: ['form-group'] do %>
      <%= f.label :title, Spree.t(:title) %> <span class="required">*</span>
      <%= f.text_field :title, class: 'form-control' %>
      <%= f.error_message_on :title %>
    <% end %>
  </div>
  <div class="col-xs-12 col-md-6">
    <div class="form-group">
      <%= f.label :page_type, t('.page_type') %>
      <%= f.select(:page_type, options_for_select(Spree::CompanyPage.page_types.map { |p| [ p.first.to_s.humanize, p.first ] }, @company_page.page_type), {},  { class: 'select2' }) %>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-xs-12 col-md-12">

    <div class="panel panel-default" style="display: none" data-type data-cover_section>
      <div class="panel-heading">
        <h1 class="panel-title"><%= 'cover_section'.humanize %></h1>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :header, class: ['form-group'] do %>
            <%= f.label :header, t('.header') %>
            <%= f.text_area :header, rows: 5, class: 'form-control' %>
            <%= f.error_message_on :header %>
          <% end %>
        </div>
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :flag, class: ['form-group'] do %>
            <%= f.label :image, t('.image') %>
            <% if @company_page.image? %>
              <br/>
              <%= image_tag(@company_page.image.url(:admin)) %>
              <br/>
              <%= f.label :delete_image do %>
                <%= f.check_box :delete_image %>
                <%== t('.delete') %>
              <% end %>
            <% end %>
            <%= f.file_field :image %>
            <p class="help-block">1600x900</p>
          <% end %>
        </div>
      </div>
    </div>

    <div class="panel panel-default" style="display: none" data-type data-text_section>
      <div class="panel-heading">
        <h1 class="panel-title"><%= 'text_section'.humanize %></h1>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :header, class: ['form-group'] do %>
            <%= f.label :header, t('.header') %>
            <%= f.text_area :header, rows: 5, class: 'form-control' %>
            <%= f.error_message_on :header %>
          <% end %>
        </div>
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :text, class: ['form-group'] do %>
            <%= f.label :text, t('.text') %>
            <%= f.text_area :text, rows: 5, class: 'form-control', 'data-redactor' => true %>
            <%= f.error_message_on :text %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="panel panel-default" style="display: none" data-type data-header_image>
      <div class="panel-heading">
        <h1 class="panel-title"><%= 'header_image'.humanize %></h1>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :header, class: ['form-group'] do %>
            <%= f.label :header, t('.header') %>
            <%= f.text_area :header, rows: 5, class: 'form-control' %>
            <%= f.error_message_on :header %>
          <% end %>

          <%= f.field_container :flag, class: ['form-group'] do %>
            <%= f.label :image, t('.image') %>
            <% if @company_page.image? %>
              <br/>
              <%= image_tag(@company_page.image.url(:admin)) %>
              <br/>
              <%= f.label :delete_image do %>
                <%= f.check_box :delete_image %>
                <%== t('.delete') %>
              <% end %>
            <% end %>
            <%= f.file_field :image %>
            <p class="help-block">1600x450</p>
          <% end %>
        </div>
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :text, class: ['form-group'] do %>
            <%= f.label :text, t('.text') %>
            <%= f.text_area :text, rows: 5, class: 'form-control', 'data-redactor' => true %>
            <%= f.error_message_on :text %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="panel panel-default" style="display: none" data-type data-main_text_image>
      <div class="panel-heading">
        <h1 class="panel-title"><%= 'main_text_image'.humanize %></h1>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :header, class: ['form-group'] do %>
            <%= f.label :header, t('.header') %>
            <%= f.text_area :header, rows: 5, class: 'form-control' %>
            <%= f.error_message_on :header %>
          <% end %>

          <%= f.field_container :flag, class: ['form-group'] do %>
            <%= f.label :image, t('.image') %>
            <% if @company_page.image? %>
              <br/>
              <%= image_tag(@company_page.image.url(:admin)) %>
              <br/>
              <%= f.label :delete_image do %>
                <%= f.check_box :delete_image %>
                <%== t('.delete') %>
              <% end %>
            <% end %>
            <%= f.file_field :image %>
            <p class="help-block">1600x450</p>
          <% end %>
        </div>
        <div class="col-xs-12 col-md-6">
          <%= f.field_container :text, class: ['form-group'] do %>
            <%= f.label :text, t('.text') %>
            <%= f.text_area :text, rows: 5, class: 'form-control', 'data-redactor' => true %>
            <%= f.error_message_on :text %>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  $("[name='company_page[page_type]']").change(function () {
      var value = $("[name='company_page[page_type]']").val();
      $('[data-type]').hide();
      $('[data-type] textarea').attr('disabled','disabled')
      $('[data-' + value + ']').show();
      $('[data-' + value + '] textarea').attr('disabled', false)
  });
  $("[name='company_page[page_type]']").change();
</script>
